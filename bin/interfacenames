#!/bin/bash
#
# Print DNS names of local interfaces.
#
# Sami Kerola <kerolasa@iki.fi>

SCRIPT_INVOCATION_SHORT_NAME=$(basename ${0})
set -e
trap 'echo "${SCRIPT_INVOCATION_SHORT_NAME}: exit on error"; exit 1' ERR
set -u

PATH='/bin:/usr/bin:/sbin:/usr/sbin'

for I in $(ifconfig -a | 
	awk '{
		if ($1 == "inet") {
			split($2, a, ":")
			if (a[2]) {
				print a[2]
			} else {
				print $2
			}
		}
	}'
); do
	printf "${I}\t"
	host ${I} | awk '{print $5}'
done

exit 0
# EOF
